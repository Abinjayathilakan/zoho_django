{% extends 'base.html' %}
{% load static %}
{% block content %}
<style>

    /* center the form */
    form {
      margin: auto;
      max-width: 600px;
    }
    
    /* style form fields */
    .form-group {
      margin-bottom: 20px;
    }
    
    label {
      font-weight: bold;
      margin-bottom: 5px;
    }
    
    select,
    input[type="text"],
    input[type="email"],
    
    input[type="date"] {
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 10px;
      font-size: 16px;
    }
    
    <!-- select:focus,
    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="date"]:focus {
      outline: none;
      box-shadow: 0 0 5px #ccc;
    } -->
    
    .form-check {
      margin-bottom: 10px;
    }
    
    /* style submit button */
    button[type="submit"] {
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    
    button[type="submit"]:hover {
      background-color: #0069d9;
    }
    table {
        width: 100%;
        border-collapse: collapse;
      }
      
      th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      
      th {
        background-color: black;
      }
      
      tr:hover {
        background-color: #f5f5f56e;
      }
      
  </style>

<div class="fixed-top" style="top: 8rem; margin-left: 18rem;" >
<div style="height: 600px; overflow-y: scroll;">
<form  action="" method="post">
    {% csrf_token %}
    <div class="form-group">
        <label for="profile_name">Vendor Name</label>
        <select id="vendor-select" name="sel" style="background-color: #ffffff; color: #000000; border: 1px solid #000000; padding: 5px; font-size: 14px; width: 100%; height:50px">
            <option value="">Select a Vendor</option>
            {% for v in vendors %}
              <option value="{{v.id}}" data-email="{{v.vendor_email}}" data-gst="{{v.gst_treatment}}" data-address="{{v.Address1}}" data-pos="{{v.placeofsupply}}" style="background-color: #ffffff; color: #000000; font-size: 14px;">{{v.company_name}}</option>
            {% endfor %}
          </select>
          
      </div>
      
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Enter Email" value="{{user.vendor_email}}">
      </div>
      
      <div class="form-group">
        <label for="address">Billing Address</label>
        <input type="text" id="address" name="address" value="{{user.Address1}}">
    </div>
      
      <div class="form-group">
        <label for="gst">GST Treatment</label>
        <input type="text" id="gst" name="gst" value="{{user.gst_treatment}}">
      </div>
      
      
      <div class="form-group">
        <label for="placeofsupply">Source of Supply</label>
        <input type="text" id="placeofsupply" name="placeofsupply" value="{{user.placeofsupply}}">
    </div>
      
      
      <div class="form-group">
        <label for="credit_note">Credit Note</label>
        <input type="text" id="credit_note" name="credit_note" placeholder="Enter Credit Note">
      </div>
      
      <div class="form-group">
        <label for="credit_note">Order Number</label>
        <input type="text" id="order_number" name="order_number" placeholder="Enter Order Number">
      </div>
      
      <div class="form-group">
        <label for="credit_date">Vendor Credit Date</label>
        <input type="date" id="credit_date" name="credit_date">
      </div>
      </form>

  
      <script>
        var placeofsupplyInput;

        document.addEventListener('DOMContentLoaded', function() {
          var vendorSelect = document.getElementById('vendor-select');
          var emailInput = document.getElementById('email');
          var gstInput = document.getElementById('gst');
          var addressInput = document.getElementById('address');
          placeofsupplyInput = document.getElementById('placeofsupply');
          
          // Retrieve initial values from the customer object
          var initialEmail = emailInput.value;
          var initialGST = gstInput.value;
          var initialAddress = addressInput.value;
          var initialplaceofsupply = '';
          
          vendorSelect.addEventListener('change', function() {
            var selectedOption = vendorSelect.options[vendorSelect.selectedIndex];
            var email = selectedOption.getAttribute('data-email') || initialEmail;
            var gstTreatment = selectedOption.getAttribute('data-gst') || initialGST;
            var address = selectedOption.getAttribute('data-address') || initialAddress;
            var placeofsupply = selectedOption.getAttribute('data-placeofsupply') || '';
          
            emailInput.value = email;
            gstInput.value = gstTreatment;
            addressInput.value = address;
            placeofsupplyInput.value = placeofsupply;
          });
        });
        
        
    </script>



     
      
    
      


   <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

   
  </section>
 
{% endblock %}